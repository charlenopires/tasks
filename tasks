#!/usr/bin/env escript
%% -*- erlang -*-

-mode(compile).
-compile(nowarn_unused_vars).

%TODO: See utf-8 in Erlang, how to work?

info() ->
  io:format("What the task?~n"),
  io:format("- update <directory> | Updating git repository of a specifical directory~n"),
  io:format("- updateall | Updating git repository of all directories in path~n"),
  io:format("- clean <directory> | Cleaning git repository of a specifical directory~n"),
  io:format("- cleanall | Cleaning git repository of all directories in path~n").

update_git(Args) -> io:format("Updating Git").

% tasks update ruby
main(Args) ->
  case(Args) of
    [] -> info();
    ["update", _] -> update_git(Args);
    Else -> info()
  end,
  erlang:halt(0).



  % io:format("~p~n", [Args]).

%   {ok, ScriptDir} = file:get_cwd(),
%   listing_dir(ScriptDir),
%   io:format("~p~n", [Dirs]),
  % erlang:halt(0).
%
% % Listing directories in this Directory
% listing_dir(Dir) ->
%   {ok, Listing} = file:list_dir_all(Dir),
%   Dirs = lists:filter(fun(A)->filelib:is_dir(A) end,Listing).
%
%
% % Update repository to all directories into
% update_git(Dir) ->
%   listing_dir(Dir).
%   %TODO: updating git
